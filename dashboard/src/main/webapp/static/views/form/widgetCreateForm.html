<style>
    /*    .form-left-side-menu-border{
            border-right: 1px solid #ddd;
        }
        .btn-app{
            padding: 6px 5px !important;
        }
        .column-list-border{
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 5px;
        }
        .cursor-type{
            cursor: move;
        }
        .builder, .builder:hover{
            background-color: #83a958;
            border-color: #83a958;
            color: #fff !important;
        }
        .builderAnd{
            color: #6a6c6f;
        }
        .custom-daterange-box{
            display: flex;
            width: 100%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
            -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
            -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
            -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
            transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        }
        .custom-daterange-box-icon{
            margin-left: 48px;
        }*/

    #playground-container {
        height: 500px;
        overflow: hidden !important;
        -webkit-overflow-scrolling: touch;
    }
    body, html {
        height: 100%;
        background-repeat: no-repeat;

        background-size: cover;
    }

    h1.title {
        font-size: 50px;

        font-weight: 400;
    }
    hr {
        width: 10%;
        color: #fff;
    }
    .form-group {
        margin-bottom: 5px;
    }
    label {
        margin-bottom: 5px;
        margin-top: 5px;
        font-weight: normal;
    }
    input, input::-webkit-input-placeholder {
        font-size: 12px;
        padding-top: 3px;
    }
    .main-login {

    }
    .form-control {
        height: auto!important;
        padding: 8px 12px !important;
    }
    .input-group {
        -webkit-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21)!important;
        -moz-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21)!important;
        box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21)!important;
        margin-bottom: 5px;
    }
    #button {
        border: 1px solid #ccc;
        margin-top: 28px;
        padding: 6px 12px;
        color: #666;
        text-shadow: 0 1px #fff;
        cursor: pointer;
        -moz-border-radius: 3px 3px;
        -webkit-border-radius: 3px 3px;
        border-radius: 3px 3px;
        -moz-box-shadow: 0 1px #fff inset, 0 1px #ddd;
        -webkit-box-shadow: 0 1px #fff inset, 0 1px #ddd;
        box-shadow: 0 1px #fff inset, 0 1px #ddd;
        background: #f5f5f5;
        background: -moz-linear-gradient(top, #f5f5f5 0%, #eeeeee 100%);
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f5f5f5), color-stop(100%, #eeeeee));
        background: -webkit-linear-gradient(top, #f5f5f5 0%, #eeeeee 100%);
        background: -o-linear-gradient(top, #f5f5f5 0%, #eeeeee 100%);
        background: -ms-linear-gradient(top, #f5f5f5 0%, #eeeeee 100%);
        background: linear-gradient(top, #f5f5f5 0%, #eeeeee 100%);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f5f5f5', endColorstr='#eeeeee', GradientType=0);
    }
    .main-center {

    }
    span.input-group-addon i {
        color: #009edf;
        font-size: 17px;
    }
    .login-button {
        margin-top: 5px;
    }
    .login-register {
        font-size: 11px;
        text-align: center;
    }

    .input-group-addon:first-child {
        border:none !important;
        border-radius:0px !important;
    }

    .widget-title {
        padding: 0px 20px 5px 20px;
    }
    span.input-group-addon {
        width: 76px;
        font-size: 14px;
        white-space: normal;
        font-family: "proxima_nova_rgregular", "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-weight: 600 !important;
    }
    .previewChart {
        border-radius: 5px;
        border: none;
        font-size: 15px;
        padding: 20px;
        color: #99a5aa;
        line-height: 1px;
        padding: 0px;
    }
    .fa.typeChart {
        border: 1px solid gainsboro;
        padding: 10px;
        width: 40px;
        height: 40px;

    }
    .chart{
        display: block;
    }

    .chart-btn {
        padding: 6px 2px !important;
    }

    .btnAddon1{
        background-color: #b7d5ab;
        color: #333;
        font-weight: bold;
        font-size: 20px;
    }
    .btnAddon2{
        background-color: #80bd95;
        color: #333;
        font-weight: bold;
        font-size: 20px;
    }
    .btnAddon3{
        background-color:#5ba689;
        color: #333;
        font-weight: bold;
        font-size: 20px;
    }
    .btnAddon4{
        background-color:#3c8e7c;
        color: #333;
        font-weight: bold;
        font-size: 20px;
    }

    .box-pop {
        padding: 10px 0px;
        min-width: 400px;
    }

    .widget-button-right {
        margin-right: 20px;
        margin-top: 10px;
    }
    .input-group {
        width: 490px;
    }


    .modal-body {
        padding: 10px 15px;
    }

    .modal-lg {
        width: 1200px;
    }

    .data-1, .data-2, .data-3 {
        width: 100%;
        clear: both;
        position: relative;
    }

    .radio, .checkbox {
        margin-top: 0px !important;
        margin-bottom: 0px !important;
        padding-left: 0px;
        vertical-align: middle;
        line-height: 12px;
    }

    .checkbox label {
        vertical-align: middle;
        word-wrap: break-word;
        white-space: wrap;
        line-height: normal;
        margin-top: 3px;
    }

    .list-group-item {
        padding: 5px 15px;
    }

    .wrap-text {
        word-wrap: break-word;
    }

    .pull-right {
        padding:0px;
    }

    .list-group {
        padding:10px;
    }
    .btnAddon5{
        background-color: #5ba689 !important;
        color: #fff !important;
    }

    .button-ok {
        padding: 10px 15px 5px 15px;
    }

    .panel {
        border:none;
        -webkit-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21) !important;
        -moz-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21) !important;
        box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21) !important;
        margin-bottom: 5px;
    }

    .query-builder .rule-value-container {
        border-left: none !important;
        padding-left: 0px !important;
        margin-top: 5px !important;
    }

    .footer-filter {
        margin: 5px;
        overflow: hidden;
    }

    .date-widget .input-group {
        width:auto !important;
    }

    .date-widget .form-control {
        padding: 6px 12px !important;
    }

    .input-group label {
        font-size: 12px;
        font-family: "proxima_nova_rgregular", "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: #333;
        font-weight: 400;
    }

    .daterangepicker_input .form-control {
        padding: 6px 24px !important;
        line-height: normal;
    }
    .code{
        min-height: 0px !important;
    }
    textarea.form-control {
        min-height: 100px !important;
        clear: both;
        position: relative !important;
    }

    .sa-fakeArea {
        display:none;
    }

    textarea.sa-realArea {
        -webkit-text-fill-color: black !important;
        /*position: absolute;*/
        top: 0;
        left: 0;
        background: transparent;
        border-color: transparent;
    }

    .builder {
        background : #ccc6;
    }
    .add-widget-title {
        padding: 5px 0px 0px 20px;
        font-size: 24px;
        text-decoration: underline;
        font-weight: 600;
        color: #777;
        font-family: "proxima_nova_rgregular";
    }
    .metrics-bottom {
        margin-bottom: 20px;
    }
    .sp-replacer {
        width:10% !important;
    }
    .sp-preview {
        width: 89px !important;
    }
</style>
<div class="container">
    <div class="row main col-md-6">
        <div class="row">
            <div class="form-group">
                <div class="col-sm-6">
                    <div class="input-group"> <div class="add-widget-title">Widget</div>
                        <div class="box-pop">
                            <div class="form-group widget-title">
                                <label>Widget Title</label>
                                <input class='form-control' type='text' ng-model='widgetObj.previewTitle'>
                            </div>
                            <div class="form-group widget-title">
                                <label>Chart Type</label>
                                <div class="chart">
                                    <a class="btn chart-btn" ng-repeat="chartType in chartTypes track by chartType.id" 
                                       ng-click="selectChart(chartType, widgetObj)"> 
                                        <span class="previewChart" title="{{chartType.name}}">
                                            <i style="cursor: pointer" class="fa {{chartType.icon}} typeChart" 
                                               ng-class="{'selected': chartType.type == (selectedChartType?selectedChartType:widgetObj.chartType)}"></i> 
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <div class="form-group widget-title">
                                <input type="checkbox" ng-checked="(widgetObj.allAccount == 1) || (widgetObj.allAccount == null)"
                                       ng-model="widgetObj.allAccount" ng-true-value="1" ng-false-value="0">
                                <label>All Account</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) !== 'text'">
            <div class="form-group">
                <div class="col-sm-6">

                    <div class="input-group"> <div class="add-widget-title">Data</div>
                        <div class="box-pop">

                            <div class="data-1">
                                <div class="form-group widget-title col-sm-6"> 
                                    <label>Data Source</label>
                                    <select class="form-control m-b" ng-model="widgetObj.dataSourceId" 
                                            ng-change="selectWidgetDataSource(widgetObj.dataSourceId)"
                                            ng-options="dataSource.name for dataSource in dataSources track by dataSource.id">
                                    </select>
                                </div>
                                <div class="form-group widget-title col-sm-6"> 
                                    <label>Data Set</label>
                                    <select class="form-control" 
                                            ng-model="widgetObj.dataSetId" 
                                            ng-options="dataSet.name for dataSet in dataSets track by dataSet.id" 
                                            ng-change="getNewDataSetObj(widgetObj, chartTypeName)">
                                    </select>
                                </div>
                            </div>
                            <div class="data-2" ng-if="!((chartTypeName ? chartTypeName : widgetObj.chartType) === 'text' || widgetObj.dataSourceId.dataSourceType === ('csv' || 'sql' || 'xls'))">
                                <div class="form-group widget-title col-sm-6"> 
                                    <label>Level</label>
                                    <select class="form-control m-b" ng-model="widgetObj.timeSegment" 
                                            ng-change="getNewDataSetObj(widgetObj, chartTypeName)"
                                            ng-options="timeSeg.name for timeSeg in timeSegments track by timeSeg.type">
                                    </select>
                                </div>
                                <div class="form-group widget-title col-sm-6"> 
                                    <label>Segment</label>
                                    <select class="form-control" 
                                            ng-model="widgetObj.productSegment" 
                                            ng-change="getNewDataSetObj(widgetObj, chartTypeName)"
                                            ng-options="productSeg.name for productSeg in productSegments track by productSeg.type">
                                    </select>
                                </div>
                            </div>

                            <div class="data-3" ng-if="!((chartTypeName ? chartTypeName : widgetObj.chartType) === 'text' || widgetObj.dataSourceId.dataSourceType === ('csv' || 'sql' || 'xls'))">
                                <div class="form-group widget-title col-sm-12"> 
                                    <label>Frequency</label>
                                    <select class="form-control"
                                            ng-model="widgetObj.networkType" 
                                            ng-options="networkType.name for networkType in frequency track by networkType.type">
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="form-group" >
                <div class="col-sm-6">
                    <div class="input-group"> <div class="add-widget-title">Metrics</div>
                        <div class="box-pop">
                            <div class="form-group widget-title col-sm-12" ng-show="(chartTypeName ? chartTypeName : widgetObj.chartType) !== 'text'">
                                <button class="btn btn-default" 
                                        ng-click="showListOfColumns()">
                                    Choose Columns
                                </button>
                                <button class="btn btn-default" 
                                        ng-click="showFilterList()">
                                    Filter
                                </button>
                                <button class="btn btn-default" 
                                        ng-click="showSortingColumn()">
                                    Sort
                                </button>
                                <button class="btn btn-success" 
                                        ng-click="showColorList()">
                                    Color
                                </button>
                            </div>
                            <div class="form-group" ng-show="(chartTypeName ? chartTypeName : widgetObj.chartType) === 'text'">
                                <button class="btn btn-default" 
                                        ng-click="showEditor(chartTypeName, widgetObj)">
                                    Show Editor
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) !== 'text'">
            <div class="form-group">
                <div class="col-sm-6">
                    <div class="input-group"> <div class="add-widget-title">Date Range</div>
                        <div class="box-pop">
                            <div class="form-group widget-title col-sm-12"> 
                                <button class="btn btn-default" ng-click="showDateDurations()">Date Range</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 pull-right widget-button-right">
                <div class="form-group">
                    <button class="btn btn-default" id="btn-save" 
                            ng-click="save(widgetObj)">
                        <i class="fa fa-save"></i> Save
                    </button>
                    <button ng-hide="(chartTypeName ? chartTypeName : widgetObj.chartType) === 'text'" class="btn btn-default" 
                            ng-click="showPreview(widgetObj, userChartColors)">Preview
                    </button>
                    <button class="btn btn-default" id="btn-cancel" 
                            ng-click="cancel(widgetObj)">
                        <i class="fa fa-close"></i> Cancel
                    </button>

                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">        
        <div class="panel panel-default" ng-show="showColumnDefs">
            <div class="panel-heading btnAddon5">
                <h3 class="panel-title">
                    Metrics</h3>
            </div>
            <div class="row">
                <div ng-show="loadingColumnsGif" class="text-center">
                    <img ng-hide="afterLoadWidgetColumns" src="static/img/logos/loader.gif" width="40">
                </div>
                <div class="col-sm-6 form-left-side-menu-border" ng-if="afterLoadWidgetColumns == true;">
                    <ul ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) === 'table'" class="list-group">
                        <li class="list-group-item justify-content-between" ng-repeat="collectionField in collectionFields">
                            <div class="checkbox">
                                <input type="checkbox" ng-model="collectionField.selectColumnDef" 
                                       ng-true-value="1" ng-false-value="0" ng-click="selectColumnItem(collectionField, widgetObj)">
                                <label for="checkbox1" ng-class="{'selected':(collectionField.expression)}">
                                    <a ng-click="editDerivedColumn(collectionField, widgetObj)">{{collectionField.displayName}}</a>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
                <div ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) === 'table'" class="col-sm-6" ng-show="showColumnDefs">
                    <div ng-if="afterLoadWidgetColumns == true;">
                        <ul class="list-group" ng-model="widgetObj.columns" ui-sortable="sortableOptions">
                            <li class="list-group-item justify-content-between" ng-repeat="columns in widgetObj.columns">
                                <div>
                                    <span ng-click="startEditing(columns);">
                                        <a class="wrap-text">
                                            <span ng-hide="columns.editing">{{columns.displayName}}</span>
                                            <form ng-submit="doneEditing(columns)" ng-show="columns.editing">
                                                <input class="form-control" ng-model="columns.dispName" ng-blur="doneEditing(columns)" ng-focus="columns == editedItem">
                                            </form>
                                        </a>
                                    </span>
                                    <span class="pull-right" ng-show="columns.columnsButtons">
                                        <a class="btn btn-default btn-xs" ng-click="removeSelectedValue(widgetObj, columns, $index)">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-6" ng-show="showDerived">
                    <form name="dataSetForm" class="form-horizontal">
                        <div class="form-group col-xs-12">
                            <label>Field Name</label>
                            <input class="form-control" ng-model="dataSetColumn.fieldName"  ng-change="checkFieldName(dataSetColumn.fieldName)" type="text">

                            <span ng-show="dataSetError" style="color:red">Field Name Already Exists</span>

                        </div>
                        <div class="form-group col-xs-12">
                            <label>Expression</label>
                            <textarea name="expression" ng-trim="false" spellcheck="false" smart-area="config"
                                      class="form-control code expression" 
                                      ng-model="text" 
                                      ng-disabled="dataSetColumn.functionName ? true : false" rows="5">                                          
                            </textarea>
                        </div>
                        <div class="form-group col-xs-12">
                            <label>Field Type</label>
                            <select class="form-control" ng-model="dataSetColumn.fieldType">
                                <option ng-repeat="fieldType in fieldTypes" value="{{fieldType.value}}">
                                    {{fieldType.name}}
                                </option>
                            </select>
                            <label>Format</label>
                            <select class="form-control" ng-model="dataSetColumn.displayFormat">
                                <option  ng-repeat="formatType in formats" value="{{formatType.value}}">
                                    {{formatType.name}}
                                </option>
                            </select>
                        </div>
                        <div class="form-group col-xs-12">
                            <button class="btn btn-info" id="btn-save" 
                                    ng-click="saveDerivedColumn(dataSetColumn, widgetObj, text)"
                                    ng-disabled="dataSetError">
                                <i class="fa fa-save"></i> Save
                            </button>
                            <button class="btn btn-default" id="btn-cancel" 
                                    ng-click="hideTextArea = false; cancelDerivedColumn(dataSetColumn)">
                                <i class="fa fa-close"></i> Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row metrics-bottom">
                <div class="col-sm-12" ng-if="!((chartTypeName ? chartTypeName : widgetObj.chartType) == 'table' || (chartTypeName ? chartTypeName : widgetObj.chartType) == 'ticker' || (chartTypeName ? chartTypeName : widgetObj.chartType) == 'funnel')" ng-show="showColumnDefs">
                    <div class="form-group">
                        <div class="col-md-12" ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) != 'pie'">
                            <label ng-if="hideSelectedColumn === false;">Select X-Axis</label>
                            <select ng-if="hideSelectedColumn === false;" style="height:28px; font-size: 11px;  padding: 0px 12px;" 
                                    class="form-control" ng-model="xColumn" 
                                    ng-options="currentColumn.displayName for currentColumn in collectionFields track by currentColumn.fieldName" 
                                    ng-change="selectX1Axis(widgetObj, xColumn)">
                            </select>
                        </div>
                        <div class="col-md-12" ng-show="(chartTypeName ? chartTypeName : widgetObj.chartType) == 'pie'">
                            <label ng-if="hideSelectedColumn === false;">Select X Axis</label>
                            <select ng-if="hideSelectedColumn === false;" style="height:28px; font-size: 11px;  padding: 0px 12px;" 
                                    class="form-control" ng-model="selectPieChartXAxis" 
                                    ng-options="currentColumn.displayName for currentColumn in collectionFields track by currentColumn.fieldName" 
                                    ng-change="selectPieChartX(widgetObj, selectPieChartXAxis)">
                            </select>
                        </div>
                        <div class="col-md-12" ng-show="(chartTypeName ? chartTypeName : widgetObj.chartType) == 'pie'">
                            <label ng-if="hideSelectedColumn === false">Select Y Axis</label>
                            <select ng-if="hideSelectedColumn === false" style="height:28px; font-size: 11px;  padding: 0px 12px;" 
                                    class="form-control" ng-model="selectPieChartYAxis" 
                                    ng-options="currentColumn.displayName for currentColumn in collectionFields track by currentColumn.fieldName" 
                                    ng-change="selectPieChartY(widgetObj, selectPieChartYAxis)">
                            </select>
                        </div>
                    </div>
                    <div class="form-group" ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) != 'pie'">
                        <div class="col-md-12" ng-if="afterLoadWidgetColumns == true;">
                            <label ng-if="hideSelectedColumn === false;">Select Y1-Axis</label>                            
                            <ui-select ng-if="hideSelectedColumn === false;" multiple ng-model="y1Column" theme="bootstrap" 
                                       on-select="selectY1Axis(widgetObj, y1Column, chartTypeName)" 
                                       on-remove="removedByY1Column(widgetObj, $item, y1Column)">
                                <ui-select-match allow-clear="true" placeholder=" y1 Axis...">{{$item.displayName}}</ui-select-match>
                                <ui-select-choices repeat="y1axis in columnY1Axis | filter:$select.search">
                                    {{y1axis.displayName}}
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                    <div class="form-group" ng-if="!((chartTypeName ? chartTypeName : widgetObj.chartType) == 'pie' || (chartTypeName ? chartTypeName : widgetObj.chartType) == 'stackedbar')">
                        <div class="col-md-12" ng-if="afterLoadWidgetColumns == true">
                            <label ng-if="hideSelectedColumn === false;">Select Y2-Axis</label>
                            <ui-select ng-if="hideSelectedColumn === false;" multiple ng-model="y2Column" theme="bootstrap" 
                                       on-select="selectY2Axis(widgetObj, y2Column, chartTypeName)" 
                                       on-remove="removedByY2Column(widgetObj, $item, y2Column)">
                                <ui-select-match allow-clear="true" placeholder=" y2 Axis...">{{$item.displayName}}</ui-select-match>
                                <ui-select-choices repeat="y2axis in columnY2Axis  | filter:$select.search">
                                    {{y2axis.displayName}}
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-8 form-group button-ok" ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) == 'ticker'" ng-show="showColumnDefs" >
                    <div class="form-group">
                        <div class="col-md-12" ng-if="afterLoadWidgetColumns == true">
                            <label>Ticker Items</label>
                            <ui-select multiple ng-model="tickerItem" limit='3' theme="bootstrap" 
                                       on-select="ticker(widgetObj, tickerItem)" 
                                       on-remove="removedByTicker(widgetObj, $item, tickerItem)">
                                <ui-select-match placeholder=" Ticker Value...">{{$item.displayName}}</ui-select-match>
                                <ui-select-choices repeat="currentColumn in collectionFields  | filter:$select.search">
                                    {{currentColumn.displayName}}
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                </div>
                <div class="col-sm-8 form-group button-ok" ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) == 'funnel'" ng-show="showColumnDefs">
                    <div class="form-group">
                        <div class="col-md-12" ng-if="afterLoadWidgetColumns == true;">
                            <label>Funnel Items</label>
                            <ui-select multiple ng-model="funnelItem"  theme="bootstrap" 
                                       on-select="funnel(widgetObj, funnelItem)" 
                                       on-remove="removedByFunnel(widgetObj,$item,funnelItem)">
                                <ui-select-match placeholder="Data...">{{$item.displayName}}</ui-select-match>
                                <ui-select-choices repeat="collectionField in collectionFields  | filter:$select.search">
                                    {{collectionField.displayName}}
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                </div>
            </div>            
            <div ng-if="(chartTypeName ? chartTypeName : widgetObj.chartType) == 'table'" ng-show="afterLoadWidgetColumns" class="form-group button-ok">
                <button class="btn btn-default" ng-click="addDerived()">Add Column</button>
            </div>
        </div>
        <div class="row"  ng-show="showDateRange">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-heading btnAddon5">
                        <h3 class="panel-title">
                            Date Range Picker</h3>
                    </div>
                    <div class="panel-body date-widget">
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">
                                        Last</button>
                                </span>
                                <input type="text"
                                       ng-model="widgetObj.lastNdays" 
                                       ng-change="selectWidgetDuration('Last N Days', widgetObj)" 
                                       class="form-control" 
                                       ng-model-options="{debounce: 500}" placeholder="Days"> 
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">
                                        Last</button>
                                </span>
                                <input type="text" 
                                       ng-model="widgetObj.lastNweeks" 
                                       ng-change="selectWidgetDuration('Last N Weeks', widgetObj)"
                                       class="form-control" 
                                       ng-model-options="{debounce: 500}" placeholder="Weeks"> 
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">
                                        Last</button>
                                </span>
                                <input type="text" 
                                       ng-model="widgetObj.lastNmonths" 
                                       ng-change="selectWidgetDuration('Last N Months', widgetObj)"
                                       class="form-control" 
                                       ng-model-options="{debounce: 500}" placeholder="Months"> 

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">
                                        Last</button>
                                </span>
                                <input type="text" 
                                       ng-model="widgetObj.lastNyears" 
                                       ng-change="selectWidgetDuration('Last N Years', widgetObj)"
                                       class="form-control" 
                                       ng-model-options="{debounce: 500}"
                                       placeholder="Years"> 

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">
                                        Custom</button>
                                </span>
                                <a class="form-control pull-right custom-daterange-box" custom-Widget-Date-Range ng-click="selectDateRangeName(widgetObj)" widget-Table-Date-Range="{{widgetObj}}" id="widgetDateRange">
                                    <span class="date-border">
                                        {{widgetObj.customStartDate ? widgetObj.customStartDate : widgetStartDate| date: "MM/dd/yyyy"}} - {{widgetObj.customEndDate ? widgetObj.customEndDate : widgetEndDate| date: "MM/dd/yyyy"}}
                                    </span>
                                </a> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row"  ng-show="showSortBy">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-heading btnAddon5">
                        <h3 class="panel-title">
                            Sorting</h3>
                    </div>
                    <div class="panel-body date-widget">
                        <ul class="list-unstyled" ng-repeat="column in widgetObj.columns">
                            <li>
                                <div class="col-sm-6">
                                    {{column.displayName}}
                                </div>
                                <div class="col-sm-6">
                                    <select style="height:28px; font-size: 11px;  padding: 0px 12px;" ng-model='column.sortOrder' ng-change="setChartFormat(widget, columnList)" class='form-control'>
                                        <option ng-repeat='sort in sorting' value='{{sort.value}}'>{{sort.name}}</option>
                                    </select>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12" ng-show="showPreviewChart">
            <div class="panel panel-default">
                <div class="panel-heading btnAddon5">
                    <h3 class="panel-title">
                        Preview</h3>
                </div>
                <div ng-if="chartTypeName === 'ticker'">
                    <div ticker-Directive ticker-Source="{{displayPreviewChart.dataSetId}}" 
                         widget-Obj="{{displayPreviewChart}}" 
                         ticker-Id="{{displayPreviewChart.id}}" 
                         ticker-Columns="{{displayPreviewChart.columns}}">                     
                    </div>
                </div>
                <div ng-if="chartTypeName === 'line'">
                    <div>
                        <div line-Chart-Source='{{displayPreviewChart.dataSetId}}' 
                             widget-Id="{{displayPreviewChart.id}}" 
                             widget-Columns="{{displayPreviewChart.columns}}" 
                             line-Chart-Directive 
                             widget-Obj="{{displayPreviewChart}}">                                            
                        </div>
                    </div>
                </div>
                <div ng-if="chartTypeName === 'area'">
                    <div>
                        <div area-Chart-Source='{{displayPreviewChart.dataSetId}}' 
                             widget-Id="{{displayPreviewChart.id}}" 
                             widget-Columns="{{displayPreviewChart.columns}}" 
                             area-Chart-Directive 
                             widget-Obj="{{displayPreviewChart}}">                         
                        </div>
                    </div>
                </div>
                <div ng-if="chartTypeName === 'bar'">
                    <div>
                        <div bar-Chart-Directive 
                             bar-Chart-Source='{{displayPreviewChart.dataSetId}}' 
                             widget-Id="{{displayPreviewChart.id}}" 
                             widget-Columns="{{displayPreviewChart.columns}}" 
                             widget-Obj="{{displayPreviewChart}}">                         
                        </div>
                    </div>
                </div>
                <div ng-if="chartTypeName === 'pie'">
                    <div>
                        <div pie-Chart-Source='{{displayPreviewChart.dataSetId}}' 
                             widget-Id="{{displayPreviewChart.id}}" 
                             widget-Columns="{{displayPreviewChart.columns}}" 
                             pie-Chart-Directive 
                             widget-Obj="{{displayPreviewChart}}">                         
                        </div>
                    </div>                            
                </div> 
                <div ng-if="chartTypeName === 'stackedbar'">
                    <div>
                        <div stacked-Bar-Chart-Source='{{displayPreviewChart.dataSetId}}' 
                             widget-Id="{{displayPreviewChart.id}}" 
                             widget-Columns="{{displayPreviewChart.columns}}" 
                             stacked-Bar-Chart-Directive 
                             widget-Obj="{{displayPreviewChart}}">                         
                        </div>
                    </div>                            
                </div>
                <div ng-if="chartTypeName === 'funnel'">
                    <div>
                        <div funnel-Directive funnel-Source=  "{{displayPreviewChart.dataSetId}}" 
                             widget-Obj="{{displayPreviewChart}}" 
                             funnel-Id="{{displayPreviewChart.id}}"
                             funnel-Columns="{{displayPreviewChart.columns}}">
                        </div>
                    </div>
                </div>
                <div class="list" ng-if="chartTypeName === 'table'" adjust-height>
                    <div class="table-responsive project-list">
                        <div id="changes-height" class="project-list">
                            <div dynamic-Table 
                                 dynamic-Table-Source="{{displayPreviewChart.dataSetId}}" 
                                 widget-Id="{{displayPreviewChart.id}}" 
                                 widget-Obj="{{displayPreviewChart}}" 
                                 table-Footer="{{displayPreviewChart.tableFooter}}" 
                                 widget-Columns="{{displayPreviewChart.columns}}">                             
                            </div>
                        </div>
                    </div>
                </div>                
                <div class="row" ng-if="chartTypeName === 'text'">
                    <div class="panel-body" style="overflow: auto;height:350px;">
                        <div>
                            <textarea ck-Editor ng-model="widgetObj.content" rows="10" cols="99"></textarea>
                        </div>  
                    </div>                                      
                </div>
            </div>
        </div>
        <div class="panel panel-default" ng-show="showFilter">
            <div class="panel-heading btnAddon5">
                <h3 class="panel-title">
                    Filters</h3>
            </div>
            <div class="row">
                <div ng-if="dispHideBuilder == false;" class="col-md-12">
                    <div class='panel-body'>
                        <div jquery-Query-Builder query-Data="{{queryBuilderList}}"></div>
                    </div>
                    <div class="footer-filter">
                        <div class="pull-right">
                            <button id="btn-clear" class="btn btn-default reset" data-target="basic">Clear</button>
                            <button class="btn btn-success set-json" id="btn-reset" data-target="basic">Reset</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-heading btnAddon5">
                <h3 class="panel-title">
                    Maximum Record</h3>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class='panel-body'>
                        <input type="text" ng-model="widgetObj.maxRecord" class="form-control">
                    </div>                    
                </div>
            </div>
        </div>
        <div class="col-sm-12" ng-show="showColor">
            <div class="panel panel-default">
                <div class="panel-heading btnAddon5">
                    <h3 class="panel-title">
                        Color <button class="btn btn-success  pull-right" ng-click="addColors(widgetObj)"><i class="fa fa-plus"></i></button></h3>
                </div>
                <div class="container" ng-repeat="widgetColor in widgetObj.targetColors">
                    Color: <ui-colorpicker ng-model="widgetColor.color"  style="width:40%;padding: 10px;height"></ui-colorpicker>
                    Code: <input ng-model="widgetColor.color" ng-change="selectColorInPicker(widgetColor)"/>
                    <!--<button class="btn btn-primary btn-xs" ng-click="editColorOption(targetColors)"><i class="fa fa-edit"></i></button>-->
                    <button class="btn btn-danger btn-xs" ng-click="deleteColorOption(widgetColor.color, $index)"><i class="fa fa-minus"></i></button>
                    <br/>
                </div>
                <br>
            </div>
        </div>
    </div>
</div>
